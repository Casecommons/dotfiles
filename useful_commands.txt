# Here lies some useful commands that are awesome but are usually too
# rarely used to remember. They are useful for...

# ...validating a binary's code signature
codesign -v /Applications/Example.app

# ...determining DNS info
dig @8.8.8.8 example.com any

# ...determining the architectures within a universal binary
file

# ...finding C/C++ standard libraries
`gcc -print-prog-name=cc1` -v
`gcc -print-prog-name=cc1plus` -v

# ...updating all git submodules
git submodule foreach git pull origin master

# ...finding what package installed a binary (Ubuntu/Debian)
dpkg -S `which examplebinary`

# ...searching for a string/regex in git diff history
git -Sstringtosearchfor --since=2012.2.17 --until=2012.3.14 -- pathname
git --pickaxe-regex "regextosearchfor" --since=2012.2.17 --until=2012.3.14 --pathname

# ...configuring, compiling, and installing latest Ruby in OS X without fault
brew install gdbm libyaml readline
brew link readline
VERSION="version" ./configure --without-gcc --prefix="/Users/$(whoami)/.rbenv/versions/$VERSION" --with-opt-dir=/usr/local/ --enable-shared && make && make test && make install
brew unlink readline

# ...compiling Ruby with rbenv and proper readline support on OS X without fault
brew install rbenv ruby-build readline
CONFIGURE_OPTS="--with-readline-dir=`brew --prefix readline`" rbenv install RUBY_VERSION

# ...getting a key's fingerprint
ssh-keygen -lf /path/to/keyfile

# ...removing excessive trailing newlines from files
find . -type f | xargs perl -pi -w -0 -e 's/(\n)+\Z/\n/'
